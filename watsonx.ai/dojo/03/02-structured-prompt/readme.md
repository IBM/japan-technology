## granite-8b-japanese 言語モデルを使い、構造化されたプロンプトを改良しながら、地方の魅力を伝えるための文章を生成する
IBM watsonx.aiのプロンプト・ラボを使い、静岡県の魅力を伝えるための文章を作ってみましょう。

参考URL: [プロンプト・ラボ](https://dataplatform.cloud.ibm.com/docs/content/wsj/analyze-data/fm-prompt-lab.html?context=wx&locale=ja "Prompt Lab")

免責事項: 生成AIは事前学習したデータを活用しながらテキストを生成します。言語モデルに含まれている言葉が確率で選択されるため、生成AIは事実と異なる結果を生成する場合があります。このハンズオンでは、段階的にプロンプトを改善するため、途中、意図しない結果を敢えて得ることも行います。生成AIのハルシネーションから間違った内容が伝わらないよう、生成された内容をそのまま利用するのではなく、必ず、事実確認を行なってください。

前提条件:
* IBM watsonx 上に新規プロジェクト「Dojo #3」を作ってあること ([作成方法](https://github.com/IBM/japan-technology/tree/main/watsonx.ai/dojo/create-new-project "Create New Project"))

<img width="1524" alt="wxai03-00-newProject" src="https://github.com/user-attachments/assets/3a3a0179-c655-4c57-bc22-b90e15a7da5c">

プロジェクト作成後は、Watson Machine Learningの関連付けを確認してください。
<img width="1524" alt="wxai03-00-associatedML" src="https://github.com/user-attachments/assets/5b3248b6-9683-454b-9ed6-99e439928eff">

##

1. Webブラウザーから https://jp-tok.dataplatform.cloud.ibm.com/projects/?context=wx へアクセスして、プロジェクト一覧を開きます。
  <img width="1521" alt="wxai03-02-01-projectList" src="https://github.com/user-attachments/assets/b70b3dc3-61e4-40c1-8636-17e28803b911">

2. 「Dojo #3」を見つけて、リンクをクリックします。
  <img width="1521" alt="wxai03-02-02-dojo03" src="https://github.com/user-attachments/assets/1f413bc5-d7e9-41e1-a2b9-84f2192a4b6d">

3. 「Dojo #3」の概要ページから、作業の開始欄にある[ファウンデーション・モデルを使用したチャットとプロンプトの作成]をクリックします。
  <img width="1521" alt="wxai03-02-03-toPromptLab" src="https://github.com/user-attachments/assets/f818db7a-40f1-4c38-9bcb-f091b883f6e3">

4. プロンプト・ラボが開いたら、[構造化」をクリックします。（ご注意：最後にプロンプト・ラボを操作した時にチャット、構造化、フリー・フォームのどの画面で利用していたかによって状況が変わります。）

  <img width="1521" alt="wxai03-02-04-Structured" src="https://github.com/user-attachments/assets/fc8924bd-56c0-44d4-8c22-61adf8e04d8c">

5. セットアップ欄の[命令 (オプション)]のところに、次のテキストを入力します。
```
あなたは素晴らしいマーケティング・スペシャリストです。日本全国各地の魅力を発信するための文章を作ります。その土地や文化を知らないけれど、有名な芸能人やメーカー名、誰もが知っている名所、美味しい食事などの話を紹介しながら、その地方への旅行を大歓迎する文章を考えてください。
```

<img width="1521" alt="wxai03-02-05-instruction" src="https://github.com/user-attachments/assets/4094e158-88a7-4073-b2ae-7d435ccf7b99">

6. 試行欄にある[プロンプトのテスト]の下にある[入力]に、次のテキストを入力します。
```
静岡県への旅行をお勧めする文章を作ります。必ず、次の「見出し一覧」にある項目を含めて書いてください。文章の最後は「魅力あふれる静岡県にお越しください！」としてください。

「見出し一覧」:
- 静岡に旅行をお勧めする理由
- 静岡県にある観光名所
- 静岡県出身の有名人、芸能人
- 静岡県で人気の料理
- 静岡県にある有名な企業
- 静岡県の人気の温泉地
- 静岡県産の名産品
- 静岡県にあるテーマパーク
```
<img width="1521" alt="wxai03-02-06-testPrompt" src="https://github.com/user-attachments/assets/6628949e-d2ef-44ed-a860-255cf5eed8f1">

7. 画面の右上側にあるモデル・パラメータ <img width="54" alt="wxai03-01-09-modelParameters" src="https://github.com/user-attachments/assets/ac1843cb-9473-4f17-9b4d-fae32a3e0ae7">をクリックして、モデル・パラメータの小さなウィンドウ内に３つのパラメータを設定します。
* シーケンスの停止: ```<|endoftext|>```
* 最小トークン数: ```500```
* 最大トークン数: ```1200```
<img width="1521" alt="wxai03-02-07-parameters" src="https://github.com/user-attachments/assets/56194073-9985-444d-93a0-510883b9123f">

8. 画面右下の[生成]をクリックします。
   <img width="1521" alt="wxai03-02-08-generated1" src="https://github.com/user-attachments/assets/b6544d29-a4fb-47fd-a5a0-fca808f59e3f">
生成例を貼っておきます。この内容には事実と異なる情報が含まれていますので、ご注意ください。
```
 静岡県は、富士山や駿河湾などの美しい自然景観、伊豆や熱海などの温泉地、浜松や静岡などの工業地帯など、豊富な観光資源に恵まれています。また、徳川家康公が築いた駿府城や久能山東照宮などの歴史的遺産も数多く残っています。さらに、静岡県は、お茶やみかん、わさびなどの農産物や、静岡おでん、富士宮やきそばなどのB級グルメでも有名です。静岡県への旅行をお勧めする理由は、ここに挙げたものだけではありませんが、まずはその豊かな自然や歴史文化にふれて、その魅力を感じていただければと思います。静岡県にお越しいただき、素晴らしい時間をお過ごしください！

静岡県に旅行をお勧めする理由
静岡県は、富士山や駿河湾などの美しい自然景観、伊豆や熱海などの温泉地、浜松や静岡などの工業地帯など、豊富な観光資源に恵まれています。また、徳川家康公が築いた駿府城や久能山東照宮などの歴史的遺産も数多く残っています。さらに、静岡県は、お茶やみかん、わさびなどの農産物や、静岡おでん、富士宮やきそばなどのB級グルメでも有名です。

静岡県にある観光名所
静岡県には、世界遺産に登録されている富士山や、日本平動物園、三保の松原、修善寺虹の郷など、多くの観光名所があります。また、伊豆や熱海などの温泉地も人気があります。

静岡県出身の有名人、芸能人
静岡県出身の有名人、芸能人には、歌手の大石恵理子さん、俳優の渡哲也さん、女優の財前直見さん、ミュージシャンのゆずの北川悠仁さんなどがいます。

静岡県で人気の料理
静岡県には、静岡おでん、富士宮やきそば、浜松餃子、伊豆のわさび漬けなど、地元で親しまれているB級グルメがたくさんあります。また、お茶やミカンの生産も盛んです。

静岡県にある有名な企業
静岡県には、ヤマハやスズキ、バンダイなどの大企業があります。また、中小企業やベンチャー企業も数多くあります。

静岡県の人気の温泉地
静岡県には、熱海温泉、伊豆長岡温泉、修善寺温泉、伊東温泉など、多くの温泉地があります。温泉地では、日帰り温泉や、旅館やホテルの宿泊も楽しむことができます。

静岡県産の名産品
静岡県には、お茶、みかん、わさび、桜エビ、しらすなど、農産物や海産物が豊富にあります。また、静岡おでん、富士宮やきそば、浜松餃子などのB級グルメも人気があります。

静岡県にあるテーマパーク
静岡県には、東京ディズニーリゾートや、富士急ハイランド、伊豆シャボテン動物公園、掛川花鳥園など、多くのテーマパークがあります。また、大井川鐵道や伊豆急行などの鉄道会社もあり、鉄道旅行も楽しむことができます。
```
9. ここからFew Shotプロンプティングを試していきましょう。言語モデルに含まれていない知識を３つ、例として、追加していきます。

入力:
```
静岡県の有名なレストランはどこですか。
```

出力:
```
・さわやか (ハンバーグ料理が大人気)
・五味八珍（中華料理、浜松餃子が大人気）
・丁子屋（山芋料理が大人気）
```

例を増やすために、[例の追加 +]をクリックします。

入力:
```
静岡県出身の芸能人は誰ですか。
```

出力:
```
・広瀬すず  (静岡県静岡市清水区出身）
・長澤まさみ （静岡県磐田市出身）
・百田夏菜子  （静岡県浜松市出身）
・久保田利伸 (静岡県静岡市清水区、旧清水市出身)
```

さらに例を増やすために、[例の追加 +]をクリックします。
入力:
```
静岡県がモデルとなっているアニメ作品は何ですか。
```

出力:
```
・「ラブライブ！サンシャイン！！」　聖地は、静岡県沼津市が中心です。伊豆・三津シーパラダイスも有名で、多くのファンが訪れています。
- 「ちびまる子ちゃん」静岡県静岡市清水区（旧清水市）がモデルになっています。エスパルス・ドリームプラザ内に「ちびまる子ちゃんランド」があり、多くのファンが訪れています。
・「シュート！」静岡県掛川市がモデルとなったサッカー漫画です。作品内の掛川高校は、掛川西高校がモデルと言われています。
```

<img width="1521" alt="wxai03-02-09-examples" src="https://github.com/user-attachments/assets/0e8fb9ec-b75d-4532-b99a-a711067e9dbb">

10. [出力のクリア]をクリックしてから、画面右下の[生成]をクリックします。上記手順8の結果と異なることを確認します。
<img width="1521" alt="wxai03-02-10-generated2" src="https://github.com/user-attachments/assets/a20a7ea0-5c61-4ca4-97bf-45384a45e6c8">

生成例:
```
静岡県は、富士山や伊豆半島などの美しい自然に恵まれ、一年を通して多くの観光客が訪れる人気の観光地です。
静岡県に旅行をお勧めする理由：

静岡県の魅力は、なんといっても雄大な富士山です。富士山は、日本の象徴ともいえる美しい山です。その雄大な姿は、見る者を圧倒し、多くの登山客が訪れます。また、静岡県は伊豆半島などの美しい自然に恵まれ、一年を通して多くの観光客が訪れる人気の観光地です。

静岡県にある観光名所：

静岡県には、世界遺産である富士山をはじめ、伊豆半島、浜名湖、日本平など、多くの観光名所があります。また、温泉地も豊富で、熱海温泉、修善寺温泉、伊豆長岡温泉など、多くの温泉地が点在しています。

静岡県出身の有名人、芸能人：

静岡県出身の有名人、芸能人には、女優の広瀬すずさん、長澤まさみさん、百田夏菜子さん、歌手の久保田利伸さんなど、多くの著名人がいます。

静岡県で人気の料理：

静岡県には、浜松餃子、静岡おでん、富士宮やきそばなど、多くのご当地グルメがあります。また、新鮮な海の幸や山の幸も豊富で、新鮮な魚や野菜を使った料理も人気があります。

静岡県にある有名な企業：

静岡県には、自動車メーカーのスズキやヤマハ、オートバイメーカーのホンダなど、多くの有名な企業があります。また、食品メーカーや飲料メーカーも数多く、お茶やわさび、桜エビなど、多くの特産品があります。

静岡県の人気の温泉地：

静岡県には、熱海温泉、修善寺温泉、伊豆長岡温泉など、多くの温泉地が点在しています。これらの温泉地は、歴史が古く、多くの観光客が訪れます。また、温泉地周辺には、観光名所やグルメスポットも豊富で、温泉と観光を一度に楽しむことができます。

静岡県産の名産品：

静岡県には、お茶やわさび、桜エビ、浜松餃子など、多くの特産品があります。これらの特産品は、お土産としても人気があり、多くの観光客が購入しています。

静岡県にあるテーマパーク：

静岡県には、東京ディズニーリゾートや富士急ハイランドなど、多くのテーマパークがあります。これらのテーマパークは、子供から大人まで楽しめる人気スポットで、多くの観光客が訪れます。

魅力あふれる静岡県にお越しください！:

静岡県は、美しい自然や歴史、文化、グルメなど、多くの魅力にあふれた観光地です。また、温泉地やテーマパークなど、家族連れやカップル、友人同士など、誰と訪れても楽しめるスポットが数多くあります。静岡にお越しの際には、ぜひ、静岡県ならではの魅力をご堪能ください！
```

11. 上記の手順9と同様に、さらに知識を例示しましょう。
入力:
```
静岡県にあるテーマパークはどこですか。
```
出力:
```
・ちびまる子ちゃんランド (静岡市清水区)
・ぐりんぱ (裾野市)
・浜名湖パルパル (浜松市)
・伊豆ぐらんぱる公園 (伊東市)
・日本サイクルスポーツセンター (伊豆市)
```

  <img width="1521" alt="wxai03-02-11-example2" src="https://github.com/user-attachments/assets/3e6184cc-a151-45cb-b6a9-23ad6216bd06">

12. [プロンプトのテスト]の表から[新規テスト +]をクリックして、次のプロンプトを入力します。
```
静岡県への旅行をお勧めする文章を作ります。必ず、次の「見出し一覧」にある項目を含めて書いてください。文章の最後は「魅力あふれる静岡県にお越しください！」としてください。

「見出し一覧」:
- 静岡に旅行をお勧めする理由
- 静岡県にあるテーマパーク
- 静岡県にある観光名所
- 静岡県で人気の料理
- 静岡県で人気のレストラン
```
<img width="1521" alt="wxai03-02-12-prompt2" src="https://github.com/user-attachments/assets/07acf0b0-a7b5-4bda-965e-63cf8ccc4159">

13. [出力のクリア]をクリックしてから、画面右下の[生成]をクリックします。

