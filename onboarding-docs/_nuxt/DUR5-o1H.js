import{b as h}from"./Do_LPjQD.js";import{r as p}from"./BfviRPdm.js";function C(t,e,n){const o=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),o.dispatchEvent(s)}function V(t){const e=p("",1e3);return{search:e,handleTypeaheadSearch:(s,i)=>{e.value=e.value+s;{const c=h(),u=i.map(a=>({...a,textValue:a.value?.textValue??a.ref.textContent?.trim()??""})),l=u.find(a=>a.ref===c),r=u.map(a=>a.textValue),f=m(r,e.value,l?.textValue),d=u.find(a=>a.textValue===f);return d&&d.ref.focus(),d?.ref}},resetTypeahead:()=>{e.value=""}}}function x(t,e){return t.map((n,o)=>t[(e+o)%t.length])}function m(t,e,n){const s=e.length>1&&Array.from(e).every(r=>r===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let c=x(t,Math.max(i,0));s.length===1&&(c=c.filter(r=>r!==n));const l=c.find(r=>r.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}export{m as g,C as h,V as u};
