import{m as k,d as q,e as J,i as $,t as C,w as P,f as _,g as j,n as z,h as I,j as U,k as B}from"./D-Sytljn.js";import{D as y,i as V,e as S,L as w,A as H,Y as D,ad as K,q as Y,l as T,h as Z,Z as G,v as Q}from"./Bsy4XOlU.js";function ue(e={}){const{inheritAttrs:t=!0}=e,l=y(),c=V({setup(s,{slots:r}){return()=>{l.value=r.default}}}),d=V({inheritAttrs:t,props:e.props,setup(s,{attrs:r,slots:n}){return()=>{var u;l.value;const o=(u=l.value)==null?void 0:u.call(l,{...e.props==null?X(r):s,$slots:n});return t&&o?.length===1?o[0]:o}}});return k({define:c,reuse:d},[c,d])}function X(e){const t={};for(const l in e)t[J(l)]=e[l];return t}const A=$?window:void 0,F=$?window.navigator:void 0;function N(e){var t;const l=w(e);return(t=l?.$el)!=null?t:l}function M(...e){const t=[],l=()=>{t.forEach(n=>n()),t.length=0},c=(n,u,o,a)=>(n.addEventListener(u,o,a),()=>n.removeEventListener(u,o,a)),d=S(()=>{const n=C(w(e[0])).filter(u=>u!=null);return n.every(u=>typeof u!="string")?n:void 0}),s=P(()=>{var n,u;return[(u=(n=d.value)==null?void 0:n.map(o=>N(o)))!=null?u:[A].filter(o=>o!=null),C(w(d.value?e[1]:e[0])),C(Z(d.value?e[2]:e[1])),w(d.value?e[3]:e[2])]},([n,u,o,a])=>{if(l(),!n?.length||!u?.length||!o?.length)return;const p=I(a)?{...a}:a;t.push(...n.flatMap(m=>u.flatMap(f=>o.map(g=>c(m,f,g,p)))))},{flush:"post"}),r=()=>{s(),l()};return _(l),r}function ee(){const e=y(!1),t=D();return t&&H(()=>{e.value=!0},t),e}function L(e){const t=ee();return S(()=>(t.value,!!e()))}function te(e,t,l={}){const{window:c=A,...d}=l;let s;const r=L(()=>c&&"MutationObserver"in c),n=()=>{s&&(s.disconnect(),s=void 0)},u=S(()=>{const m=w(e),f=C(m).map(N).filter(U);return new Set(f)}),o=T(u,m=>{n(),r.value&&m.size&&(s=new MutationObserver(t),m.forEach(f=>s.observe(f,d)))},{immediate:!0,flush:"post"}),a=()=>s?.takeRecords(),p=()=>{o(),n()};return _(p),{isSupported:r,stop:p,takeRecords:a}}function ne(e,t,l={}){const{window:c=A,document:d=c?.document,flush:s="sync"}=l;if(!c||!d)return z;let r;const n=a=>{r?.(),r=a},u=K(()=>{const a=N(e);if(a){const{stop:p}=te(d,m=>{m.map(g=>[...g.removedNodes]).flat().some(g=>g===a||g.contains(a))&&t(m)},{window:c,childList:!0,subtree:!0});n(p)}},{flush:s}),o=()=>{u(),n()};return _(o),o}function se(e={}){var t;const{window:l=A,deep:c=!0,triggerOnRemoval:d=!1}=e,s=(t=e.document)!=null?t:l?.document,r=()=>{var o;let a=s?.activeElement;if(c)for(;a?.shadowRoot;)a=(o=a?.shadowRoot)==null?void 0:o.activeElement;return a},n=y(),u=()=>{n.value=r()};if(l){const o={capture:!0,passive:!0};M(l,"blur",a=>{a.relatedTarget===null&&u()},o),M(l,"focus",u,o)}return d&&ne(n,u,{document:s}),u(),n}function W(e,t={}){const{controls:l=!1,navigator:c=F}=t,d=L(()=>c&&"permissions"in c),s=y(),r=typeof e=="string"?{name:e}:e,n=y(),u=()=>{var a,p;n.value=(p=(a=s.value)==null?void 0:a.state)!=null?p:"prompt"};M(s,"change",u,{passive:!0});const o=j(async()=>{if(d.value){if(!s.value)try{s.value=await c.permissions.query(r)}catch{s.value=void 0}finally{u()}if(l)return G(s.value)}});return o(),l?{state:n,isSupported:d,query:o}:n}function ie(e={}){const{navigator:t=F,read:l=!1,source:c,copiedDuring:d=1500,legacy:s=!1}=e,r=L(()=>t&&"clipboard"in t),n=W("clipboard-read"),u=W("clipboard-write"),o=S(()=>r.value||s),a=y(""),p=y(!1),m=q(()=>p.value=!1,d,{immediate:!1});async function f(){let v=!(r.value&&E(n.value));if(!v)try{a.value=await t.clipboard.readText()}catch{v=!0}v&&(a.value=R())}o.value&&l&&M(["copy","cut"],f,{passive:!0});async function g(v=w(c)){if(o.value&&v!=null){let i=!(r.value&&E(u.value));if(!i)try{await t.clipboard.writeText(v)}catch{i=!0}i&&b(v),a.value=v,p.value=!0,m.start()}}function b(v){const i=document.createElement("textarea");i.value=v??"",i.style.position="absolute",i.style.opacity="0",document.body.appendChild(i),i.select(),document.execCommand("copy"),i.remove()}function R(){var v,i,h;return(h=(i=(v=document?.getSelection)==null?void 0:v.call(document))==null?void 0:i.toString())!=null?h:""}function E(v){return v==="granted"||v==="prompt"}return{isSupported:o,text:a,copied:p,copy:g}}function oe(e){return JSON.parse(JSON.stringify(e))}function re(e,t,l,c={}){var d,s,r;const{clone:n=!1,passive:u=!1,eventName:o,deep:a=!1,defaultValue:p,shouldEmit:m}=c,f=D(),g=l||f?.emit||((d=f?.$emit)==null?void 0:d.bind(f))||((r=(s=f?.proxy)==null?void 0:s.$emit)==null?void 0:r.bind(f?.proxy));let b=o;b=b||`update:${t.toString()}`;const R=i=>n?typeof n=="function"?n(i):oe(i):i,E=()=>B(e[t])?R(e[t]):p,v=i=>{m?m(i)&&g(b,i):g(b,i)};if(u){const i=E(),h=Y(i);let O=!1;return T(()=>e[t],x=>{O||(O=!0,h.value=R(x),Q(()=>O=!1))}),T(h,x=>{!O&&(x!==e[t]||a)&&v(x)},{deep:a}),h}else return S({get(){return E()},set(i){v(i)}})}export{se as a,M as b,ue as c,ie as d,re as u};
